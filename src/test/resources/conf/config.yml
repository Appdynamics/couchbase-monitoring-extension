#This will populate the json in all the tiers, under this path(not recommended)
#metricPrefix: "Custom json|CouchBase"
#The following prefix will populate the json under one tier
metricPrefix: "Server|Component:AppLevels|Custom metrics|CouchBase"

#Add your list of CouchBase clusters here.
servers:
  - name: "Cluster1"
    host: "localhost"
    port: "6379"
    username: ""
    password: ""
    passwordEncrypted: ""

#Encryption key for Encrypted password.
encryptionKey: ""

# Each server instance needs 3 threads, one for the server instance itself, one for info call to the Redis server and one for slowlog call to the server.
# So, please change the value accordingly(Based on the number of server instances you are monitoring).
numberOfThreads: 20

metrics:
    cluster:
        include: "true"
        ram:
            - total:
                  alias: "total"
            - quotaTotal:
                  alias: "quotaTotal"
            - quotaUsed:
                  alias: "quotaUsed"
            - used:
                  alias: "used"
            - usedByData:
                  alias: "usedByData"
            - quotaUsedPerNode:
                  alias: "quotaUsedPerNode"
            - quotaTotalPerNode:
                  alias: "quotaTotalPerNode"
        hdd:
            - total:
                  alias: "total"
            - quotaTotal:
                  alias: "quotaTotal"
            - used:
                  alias: "used"
            - usedByData:
                  alias: "usedByData"
            - free:
                  alias: "free"
        counters:
            - rebalance_success:
                  alias: "rebalance_success"
            - rebalance_start:
                  alias: "rebalance_start"
        others:
    nodes:
        include: "true"
        systemStats:
            - cpu_utilization_rate:
                  alias: "cpu_utilization_rate"
            - swap_total:
                  alias: "swap_total"
            - swap_used:
                  alias: "swap_used"
            - mem_total:
                  alias: "mem_total"
            - mem_free:
                  alias: "mem_free"
        interestingStats:
            - cmd_get:
                  alias: "cmd_get"
            - couch_docs_actual_disk_size:
                  alias: "couch_docs_actual_disk_size"
            - couch_docs_data_size:
                  alias: "couch_docs_data_size"
            - couch_spatial_data_size:
                  alias: "couch_spatial_data_size"
            - couch_spatial_disk_size:
                  alias: "couch_spatial_disk_size"
            - couch_views_actual_disk_size:
                  alias: "couch_views_actual_disk_size"
            - couch_views_data_size:
                  alias: "couch_views_data_size"
            - curr_items:
                  alias: "curr_items"
            - curr_items_tot:
                  alias: "curr_items_tot"
            - ep_bg_fetched:
                  alias: "ep_bg_fetched"
            - get_hits:
                  alias: "get_hits"
            - mem_used:
                  alias: "mem_used"
            - ops:
                  alias: "ops"
            - vb_replica_curr_items:
                  alias: "vb_replica_curr_items"
        otherStats:
    buckets:
        include: "true"
        quota:
            - ram:
                  alias: "ram"
            - rawRAM:
                  alias: "rawRam"
        basicStats:
            - quotaPercentUsed:
                  alias: "quotaPercentUsed"
            - opsPerSec:
                  alias: "opsPerSec"
            - diskFetches:
                  alias: "diskFetches"
            - itemCount:
                  alias: "itemCount"
            - diskUsed:
                  alias: "diskUsed"
            - dataUsed:
                  alias: "dataUsed"
            - memUsed:
                  alias: "memUsed"
        otherStats:
            - couch_total_disk_size:
            - couch_docs_fragmentation:
            - couch_views_fragmentation:
            - hit_ratio:
            - ep_cache_miss_rate:
            - ep_resident_items_rate:
            - vb_avg_active_queue_age:
            - vb_avg_replica_queue_age:
            - vb_avg_pending_queue_age:
            - vb_avg_total_queue_age:
            - vb_active_resident_items_ratio:
            - vb_replica_resident_items_ratio:
            - vb_pending_resident_items_ratio:
            - avg_disk_update_time:
            - avg_disk_commit_time:
            - avg_bg_wait_time:
            - avg_active_timestamp_drift:
            - avg_replica_timestamp_drift:
            - ep_dcp_views+indexes_count:
            - ep_dcp_views+indexes_items_remaining:
            - ep_dcp_views+indexes_producer_count:
            - ep_dcp_views+indexes_total_backlog_size:
            - ep_dcp_views+indexes_items_sent:
            - ep_dcp_views+indexes_total_bytes:
            - ep_dcp_views+indexes_backoff:
            - bg_wait_count:
            - bg_wait_total:
            - bytes_read:
            - bytes_written:
            - cas_badval:
            - cas_hits:
            - cas_misses:
            - cmd_get:
            - cmd_set:
            - couch_docs_actual_disk_size:
            - couch_docs_data_size:
            - couch_docs_disk_size:
            - couch_spatial_data_size:
            - couch_spatial_disk_size:
            - couch_spatial_ops:
            - couch_views_actual_disk_size:
            - couch_views_data_size:
            - couch_views_disk_size:
            - couch_views_ops:
            - curr_connections:
            - curr_items:
            - curr_items_tot:
            - decr_hits:
            - decr_misses:
            - delete_hits:
            - delete_misses:
            - disk_commit_count:
            - disk_commit_total:
            - disk_update_count:
            - disk_update_total:
            - disk_write_queue:
            - ep_active_ahead_exceptions:
            - ep_active_hlc_drift:
            - ep_active_hlc_drift_count:
            - ep_bg_fetched:
            - ep_clock_cas_drift_threshold_exceeded:
            - ep_dcp_2i_backoff:
            - ep_dcp_2i_count:
            - ep_dcp_2i_items_remaining:
            - ep_dcp_2i_items_sent:
            - ep_dcp_2i_producer_count:
            - ep_dcp_2i_total_backlog_size:
            - ep_dcp_2i_total_bytes:
            - ep_dcp_fts_backoff:
            - ep_dcp_fts_count:
            - ep_dcp_fts_items_remaining:
            - ep_dcp_fts_items_sent:
            - ep_dcp_fts_producer_count:
            - ep_dcp_fts_total_backlog_size:
            - ep_dcp_fts_total_bytes:
            - ep_dcp_other_backoff:
            - ep_dcp_other_count:
            - ep_dcp_other_items_remaining:
            - ep_dcp_other_items_sent:
            - ep_dcp_other_producer_count:
            - ep_dcp_other_total_backlog_size:
            - ep_dcp_other_total_bytes:
            - ep_dcp_replica_backoff:
            - ep_dcp_replica_count:
            - ep_dcp_replica_items_remaining:
            - ep_dcp_replica_items_sent:
            - ep_dcp_replica_producer_count:
            - ep_dcp_replica_total_backlog_size:
            - ep_dcp_replica_total_bytes:
            - ep_dcp_views_backoff:
            - ep_dcp_views_count:
            - ep_dcp_views_items_remaining:
            - ep_dcp_views_items_sent:
            - ep_dcp_views_producer_count:
            - ep_dcp_views_total_backlog_size:
            - ep_dcp_views_total_bytes:
            - ep_dcp_xdcr_backoff:
            - ep_dcp_xdcr_count:
            - ep_dcp_xdcr_items_remaining:
            - ep_dcp_xdcr_items_sent:
            - ep_dcp_xdcr_producer_count:
            - ep_dcp_xdcr_total_backlog_size:
            - ep_dcp_xdcr_total_bytes:
            - ep_diskqueue_drain:
            - ep_diskqueue_fill:
            - ep_diskqueue_items:
            - ep_flusher_todo:
            - ep_item_commit_failed:
            - ep_kv_size:
            - ep_max_size:
            - ep_mem_high_wat:
            - ep_mem_low_wat:
            - ep_meta_data_memory:
            - ep_num_non_resident:
            - ep_num_ops_del_meta:
            - ep_num_ops_del_ret_meta:
            - ep_num_ops_get_meta:
            - ep_num_ops_set_meta:
            - ep_num_ops_set_ret_meta:
            - ep_num_value_ejects:
            - ep_oom_errors:
            - ep_ops_create:
            - ep_ops_update:
            - ep_overhead:
            - ep_queue_size:
            - ep_replica_ahead_exceptions:
            - ep_replica_hlc_drift:
            - ep_replica_hlc_drift_count:
            - ep_tap_rebalance_count:
            - ep_tap_rebalance_qlen:
            - ep_tap_rebalance_queue_backfillremaining:
            - ep_tap_rebalance_queue_backoff:
            - ep_tap_rebalance_queue_drain:
            - ep_tap_rebalance_queue_fill:
            - ep_tap_rebalance_queue_itemondisk:
            - ep_tap_rebalance_total_backlog_size:
            - ep_tap_replica_count:
            - ep_tap_replica_qlen:
            - ep_tap_replica_queue_backfillremaining:
            - ep_tap_replica_queue_backoff:
            - ep_tap_replica_queue_drain:
            - ep_tap_replica_queue_fill:
            - ep_tap_replica_queue_itemondisk:
            - ep_tap_replica_total_backlog_size:
            - ep_tap_total_count:
            - ep_tap_total_qlen:
            - ep_tap_total_queue_backfillremaining:
            - ep_tap_total_queue_backoff:
            - ep_tap_total_queue_drain:
            - ep_tap_total_queue_fill:
            - ep_tap_total_queue_itemondisk:
            - ep_tap_total_total_backlog_size:
            - ep_tap_user_count:
            - ep_tap_user_qlen:
            - ep_tap_user_queue_backfillremaining:
            - ep_tap_user_queue_backoff:
            - ep_tap_user_queue_drain:
            - ep_tap_user_queue_fill:
            - ep_tap_user_queue_itemondisk:
            - ep_tap_user_total_backlog_size:
            - ep_tmp_oom_errors:
            - ep_vb_total:
            - evictions:
            - get_hits:
            - get_misses:
            - incr_hits:
            - incr_misses:
            - mem_used:
            - misses:
            - ops:
            - vb_active_eject:
            - vb_active_itm_memory:
            - vb_active_meta_data_memory:
            - vb_active_num:
            - vb_active_num_non_resident:
            - vb_active_ops_create:
            - vb_active_ops_update:
            - vb_active_queue_age:
            - vb_active_queue_drain:
            - vb_active_queue_fill:
            - vb_active_queue_size:
            - vb_pending_curr_items:
            - vb_pending_eject:
            - vb_pending_itm_memory:
            - vb_pending_meta_data_memory:
            - vb_pending_num:
            - vb_pending_num_non_resident:
            - vb_pending_ops_create:
            - vb_pending_ops_update:
            - vb_pending_queue_age:
            - vb_pending_queue_drain:
            - vb_pending_queue_fill:
            - vb_pending_queue_size:
            - vb_replica_curr_items:
            - vb_replica_eject:
            - vb_replica_itm_memory:
            - vb_replica_meta_data_memory:
            - vb_replica_num:
            - vb_replica_num_non_resident:
            - vb_replica_ops_create:
            - vb_replica_ops_update:
            - vb_replica_queue_age:
            - vb_replica_queue_drain:
            - vb_replica_queue_fill:
            - vb_replica_queue_size:
            - vb_total_queue_age:
            - xdc_ops:
            - cpu_idle_ms:
            - cpu_local_ms:
            - cpu_utilization_rate:
            - hibernated_requests:
            - hibernated_waked:
            - mem_actual_free:
            - mem_actual_used:
            - mem_free:
            - mem_total:
            - mem_used_sys:
            - rest_requests:
            - swap_total:
            - swap_used:
    query:
        include: "true"
        credentials: #Generally, The Query API has a different port than all other APIs. These credntials take in the hostname and port nummber from which the Query API is accessible
            host: "localhost"
            port: "8093"
        systemVitals:
            - request.completed.count:
                  alias: "request.completed.count"
            - request.active.count:
                  alias: "request.active.count"
            - request.per.sec.1min:
                  alias: "request.per.sec.1min"
            - request.per.sec.5min:
                  alias: "request.per.sec.5min"
            - request.per.sec.15min:
                  alias: "request.per.sec.15min"
            - request_time.mean:
                  alias: "request_time.mean"
            - request_time.median:
                  alias: "request_time.median"
            - request_time.80percentile:
                  alias: "request_time.80percentile"
            - request_time.95percentile:
                  alias: "request_time.95percentile"
            - request_time.99percentile:
                  alias: "request_time.99percentile"
            - request.prepared.percent:
                  alias: "request.prepared.percent"
    xdcr:
        include: "true"
        stats:
            - bandwidth_usage: #Bandwidth used during replication, measured in bytes per second.
                  alias: "bandwidth_usage"
            - changes_left: #Number of updates still pending replication.
                  alias: "changes_left"
            - data_replicated: #Size of data replicated in bytes.
                  alias: "data_replicated"
            - docs_checked: #Number of documents checked for changes.
                  alias: "docs_checked"
            - docs_failed_cr_source: #Number of documents that have failed conflict resolution on the source cluster and not replicated to target cluster.
                  alias: "docs_failed_cr_source"
            - docs_filtered: #Number of documents that have been filtered out and not replicated to target cluster.
                  alias: "docs_filtered"
            - docs_latency_wt: #Weighted average latency for sending replicated changes to destination cluster.
                  alias: "docs_latency_wt"
            - docs_opt_repd: #Number of docs sent optimistically.
                  alias: "docs_opt_repd"
            - docs_received_from_dcp: #Number of documents received from DCP.
                  alias: "docs_received_from_dcp"
            - docs_rep_queue: #Number of documents in replication queue.
                  alias: "docs_rep_queue"
            - docs_written: #Number of documents written to the destination cluster via xdcr.
                  alias: "docs_written"
            - meta_latency_wt: #Weighted average time for requesting document metadata. xdcr uses this for conflict resolution prior to sending the document into the replication queue.
                  alias: "meta_latency_wt"
            - num_checkpoints: #Number of checkpoints issued in replication queue.
                  alias: "num_checkpoints"
            - num_failedckpts: #Number of checkpoints failed during replication.
                  alias: "num_failedckpts"
            - rate_received_from_dcp: #Number of documents received from DCP per second.
                  alias: "rate_received_from_dcp"
            - rate_replication: #Rate of documents being replicated, measured in documents per second.
                  alias: "rate_replication"
            - size_rep_queue: #Size of replication queue in bytes.
                  alias: "size_rep_queue"
            - time_committing: #Seconds elapsed during replication.
                  alias: "time_committing"
    index:
        include: "true"
        stats:
            - memorySnapshotInterval:
                  alias: "memorySnapshotInterval"
            - stableSnapshotInterval:
                  alias: "stableSnapshotInterval"
            - maxRollbackPoints:
                  alias: "maxRollbackPoints"



